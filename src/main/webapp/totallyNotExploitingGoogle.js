/* 
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */

// TODO: Change this to async and use callback to post the results
function httpGet(theUrl) {
    var xmlHttp = new XMLHttpRequest();
    xmlHttp.open( "GET", theUrl, false ); // false for synchronous request
    xmlHttp.send( null );
    return xmlHttp.responseText;
}

function notGoogleSearch() {
    var totallyLegalSearch = document.createElement( 'html' );
    var url = 'https://www.google.gr/search?q=' + $('#query').val();
    totallyLegalSearch.innerHTML = httpGet(url);
    //$("#search").html(totallyLegalSearch.getElementsByClassName("g"));
    var divs = totallyLegalSearch.getElementsByClassName('g');
    //console.log(divs.length);
    for (var i = 0; i < divs.length; i = i + 1) {
        $('#populateMe').append('<div class=\'g\'>'+divs[i].innerHTML+'</div>');// += '<div class=\'g\'>' + divs[i].innerHTML + '<\\div>';
        //console.log(divs[i].innerHTML);
    } 
    
}